:root {
  /* Palette - Unchanged */
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;

  --indigo-50: #eef2ff;
  --indigo-100: #e0e7ff;
  --indigo-400: #818cf8;
  --indigo-500: #6366f1;
  --indigo-600: #4f46e5;
  --indigo-700: #4338ca;

  --red-50: #fef2f2;
  --red-100: #fee2e2;
  --red-200: #fecaca;
  --red-400: #f87171;
  --red-500: #ef4444;
  --red-600: #dc2626;
  --red-700: #b91c1c;

  --green-50: #f0fdf4;
  --green-100: #dcfce7;
  --green-200: #bbf7d0;
  --green-400: #4ade80;
  --green-500: #22c55e;
  --green-700: #15803d;

  --yellow-50: #fefce8;
  --yellow-400: #facc15;
  --yellow-500: #eab308;
  --yellow-700: #a16207;

  --purple-50: #faf5ff;
  --purple-400: #c084fc;
  --purple-500: #a855f7;
  --purple-700: #7e22ce;

  --blue-50: #eff6ff;
  --blue-100: #dbeafe;
  --blue-400: #60a5fa;
  --blue-700: #1d4ed8;

  --white: #ffffff;
  
  /* --- Semantic Variables (Light Theme Default) --- */
  
  /* Backgrounds */
  --bg-page: #fdfdfd; /* Slightly warmer white */
  --bg-card: rgba(255, 255, 255, 0.8); /* Glass effect base */
  --bg-header: rgba(255, 255, 255, 0.7); /* Glass effect base */
  --bg-subtle: rgba(243, 244, 246, 0.6);
  --bg-hover: rgba(229, 231, 235, 0.5);
  
  /* Text */
  --text-main: var(--gray-900);
  --text-muted: var(--gray-500);
  --text-inverse: var(--white);
  
  /* Borders */
  --border-color: rgba(229, 231, 235, 0.6);
  --border-strong: var(--gray-300);
  
  /* Shadows */
  --shadow-color: 17 24 39; /* broken out for opacity use */
  --shadow-sm: 0 1px 2px 0 rgb(var(--shadow-color) / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(var(--shadow-color) / 0.05), 0 2px 4px -2px rgb(var(--shadow-color) / 0.05);
  --shadow-lg: 0 10px 15px -3px rgb(var(--shadow-color) / 0.05), 0 4px 6px -4px rgb(var(--shadow-color) / 0.05);
  --shadow-glow: 0 0 15px rgba(99, 102, 241, 0.15);

  /* Intent: Accent (Indigo) */
  --bg-accent-subtle: var(--indigo-50);
  --text-accent: var(--indigo-700);
  --border-accent: var(--indigo-100);

  /* Intent: Success (Green) */
  --bg-success-subtle: var(--green-50);
  --text-success: var(--green-700);
  --border-success: var(--green-200);

  /* Intent: Danger (Red) */
  --bg-danger-subtle: var(--red-50);
  --text-danger: var(--red-700);
  --border-danger: var(--red-200);

  /* Intent: Warning (Yellow) */
  --bg-warning-subtle: var(--yellow-50);
  --text-warning: var(--yellow-700);

   /* Intent: Deployment (Purple) */
  --bg-deploy-subtle: var(--purple-50);
  --text-deploy: var(--purple-700);
  
  /* Intent: Note (Blue) */
  --bg-note-subtle: var(--blue-50);
  --text-note: var(--blue-700);
  --border-note: var(--blue-100);

  /* Code Blocks */
  --bg-code: var(--gray-100);
  --text-code: var(--gray-800);

  /* Misc */
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;
  --radius-full: 9999px;

  /* Ambient Gradients */
  --gradient-bg: radial-gradient(circle at top left, rgba(99, 102, 241, 0.08), transparent 40%),
                 radial-gradient(circle at bottom right, rgba(168, 85, 247, 0.08), transparent 40%);
}

/* --- Dark Mode Overrides --- */
[data-theme='dark'] {
  /* Backgrounds */
  --bg-page: #0f1115; /* Deep rich dark */
  --bg-card: rgba(31, 41, 55, 0.6);
  --bg-header: rgba(17, 24, 39, 0.7);
  --bg-subtle: rgba(55, 65, 81, 0.4); 
  --bg-hover: rgba(75, 85, 99, 0.4);
  
  /* Text */
  --text-main: #f3f4f6;
  --text-muted: #9ca3af;
  
  /* Borders */
  --border-color: rgba(75, 85, 99, 0.4);
  --border-strong: #4b5563;
  
  --shadow-color: 0 0 0;
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.2);
  
  /* Intent overrides for dark mode contrast */
  --bg-accent-subtle: rgba(99, 102, 241, 0.15);
  --text-accent: var(--indigo-400);
  --border-accent: rgba(99, 102, 241, 0.2);

  --bg-success-subtle: rgba(34, 197, 94, 0.15);
  --text-success: var(--green-400);
  --border-success: rgba(34, 197, 94, 0.2);

  --bg-danger-subtle: rgba(239, 68, 68, 0.15);
  --text-danger: var(--red-400);
  --border-danger: rgba(239, 68, 68, 0.2);

  --bg-warning-subtle: rgba(234, 179, 8, 0.15);
  --text-warning: var(--yellow-400);

  --bg-deploy-subtle: rgba(168, 85, 247, 0.15);
  --text-deploy: var(--purple-400);
  
  --bg-note-subtle: rgba(59, 130, 246, 0.15);
  --text-note: var(--blue-400);
  --border-note: rgba(59, 130, 246, 0.2);

  --bg-code: #111827; 
  --text-code: var(--gray-200);

  --gradient-bg: radial-gradient(circle at top left, rgba(67, 56, 202, 0.15), transparent 45%),
                 radial-gradient(circle at bottom right, rgba(126, 34, 206, 0.15), transparent 45%);
}

body {
  margin: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--bg-page);
  background-image: var(--gradient-bg);
  background-attachment: fixed; /* Parallax-like effect */
  color: var(--text-main);
  transition: background-color 0.5s ease, color 0.3s ease;
}

code {
  font-family: 'JetBrains Mono', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

/* Custom Scrollbar Styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--border-strong);
  border-radius: 99px;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: .7; transform: scale(0.95); }
}